<!-- ===== CONTENEDOR AGENTES DIGITALIZADORES (FULL-BLEED DENTRO DE ELEMENTOR) ===== -->
<section class="kit-digital1" aria-labelledby="kit-digital-title">
  <div class="kit-digital__inner1">

    <article class="kit-digital__text1">
      <h2 id="kit-digital-title">
        Somos <span>Agentes Digitalizadores</span>
      </h2>
      <p class="sub1">
        Solicita tu ayuda de hasta
        <strong aria-label="doce mil euros">12.000‚Ç¨</strong>
      </p>
      <p class="desc1">T√∫ eliges lo que necesitas para hacer crecer tu empresa.</p>

      <!-- KitDigital Logos Insertados -->
      <footer class="kitdigital-footer1" aria-label="Entidades participantes en Kit Digital">
        <div class="logo-container1">
          <img class="kitdigital-logos1"
            src="https://palazonyvigueras.es/wp-content/uploads/2024/01/logos-kit-digital-web-negro-1024x63.png"
            alt="Logos oficiales del programa Kit Digital y entidades colaboradoras" loading="lazy" />
        </div>
      </footer>

      <div class="buttons1">
        <button class="btn1 btn-green1" id="openForm" aria-label="Abrir formulario Kit Digital">
          ‚úî S√≠, quiero
        </button>
        <a href="tel:900350011" class="btn1 btn-outline1" aria-label="Llamar a Skynet Systems">
          üìû Ll√°manos
        </a>
      </div>
    </article>

    <figure class="kit-digital__image1">
      <img
        src="http://localhost/mi_web/wp-content/uploads/2025/09/Skynet-Systems-Kit-Digital-De-una-pyme-para-otra-pyme-1920x1080-1.png"
        alt="Cartel promocional de Skynet Systems sobre ayudas Kit Digital para PYMEs" loading="lazy" width="1920"
        height="1080">
    </figure>

  </div>
</section>

<!-- ===== MODAL CON FORMULARIO ===== -->
<div class="modal1" id="kitFormModal" role="dialog" aria-labelledby="formTitle" aria-modal="true" aria-hidden="true">
  <div class="modal-content1" role="document">
    <button class="modal-close1" id="closeForm" aria-label="Cerrar formulario">‚úñ</button>

    <header class="modal-head1">
      <div class="modal-pill1">Agente Digitalizador</div>
      <h3 id="formTitle">Solicita tu ayuda Kit Digital</h3>
      <p class="modal-sub1">Resolvemos dudas y te guiamos en 24‚Äì48h.</p>
    </header>

    <form class="contact-form1" id="kitForm" novalidate>
      <div class="field1 full1">
        <label for="f_nombre">Nombre</label>
        <input id="f_nombre" type="text" name="nombre" autocomplete="name" required placeholder="Tu nombre y apellidos">
        <small class="hint1">As√≠ podremos dirigirnos a ti correctamente</small>
      </div>

      <div class="field1 half1">
        <label for="f_email">Email</label>
        <input id="f_email" type="email" name="email" autocomplete="email" required placeholder="tu@email.com"
          inputmode="email">
        <small class="error1" data-for="f_email">Introduce un email v√°lido</small>
      </div>

      <div class="field1 half1">
        <label for="f_tel">Tel√©fono</label>
        <input id="f_tel" type="tel" name="telefono" autocomplete="tel" required placeholder="600 123 123"
          pattern="^[0-9+()\s-]{7,}$" inputmode="tel">
        <small class="hint1">M√≥vil o fijo, con prefijo si es necesario</small>
      </div>

      <div class="field1 full1">
        <label for="f_msg">Mensaje</label>
        <textarea id="f_msg" name="mensaje" rows="4" required
          placeholder="Cu√©ntanos brevemente qu√© necesitas‚Ä¶"></textarea>
      </div>

      <label class="chk1 full1">
        <input type="checkbox" id="f_rgpd" required>
        <span>He le√≠do y acepto la <a href="/privacidad" target="_blank" rel="noopener">pol√≠tica de
            privacidad</a>.</span>
      </label>

      <button type="submit" class="btn1 btn-green1 btn-full1 full1" id="submitBtn">
        <span class="btn-text1">Enviar solicitud</span>
        <span class="btn-spinner1" aria-hidden="true"></span>
      </button>

      <p class="mini-legal1 full1">Sin spam ‚Ä¢ Puedes darte de baja cuando quieras</p>
    </form>

    <!-- ===== Logos dentro del modal ===== -->
    <footer class="kitdigital-footer1 modal-logos1 full1" aria-label="Entidades participantes en Kit Digital">
      <div class="logo-container1">
        <img class="kitdigital-logos1"
          src="https://palazonyvigueras.es/wp-content/uploads/2024/01/logos-kit-digital-web-negro-1024x63.png"
          alt="Logos oficiales del programa Kit Digital y entidades colaboradoras" loading="lazy" decoding="async" />
      </div>
    </footer>
  </div>
</div>

<style>
  /* =============================================================
   FULL-BLEED ROBUSTO PARA ELEMENTOR (SECCI√ìN A ANCHO DE VIEWPORT)
   ============================================================= */
  .kit-digital1 {
    --edge-x: clamp(1rem, 4vw, 3rem);
    background: linear-gradient(180deg, #f7fdfb 0%, #eefaf6 100%);
    padding: 5rem var(--edge-x);
    position: relative;
    left: 50%;
    right: 50%;
    margin-left: -50vw;
    margin-right: -50vw;
    width: 100vw;
    border-radius: 0;
    box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.05);
  }

  .kit-digital__inner1 {
    max-width: 80rem;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2.5rem;
    align-items: center;
  }

  .kit-digital__text1 h2 {
    font-size: 2.4rem;
    margin-bottom: 0.9rem;
    color: #222;
  }

  .kit-digital__text1 h2 span {
    color: #0aa2a5;
    border-bottom: 0.2rem solid #0aa2a5;
  }

  .kit-digital__text1 .sub1 {
    font-weight: 600;
    margin-bottom: 0.6rem;
    color: #444;
    font-size: 1.1rem;
  }

  .kit-digital__text1 .desc1 {
    color: #666;
    margin-bottom: 1.4rem;
    font-size: 1rem;
  }

  .kit-digital1 .buttons1 {
    display: flex;
    gap: 1rem;
    margin-top: 1.2rem;
  }

  .btn1 {
    display: inline-block;
    padding: 0.9rem 1.6rem;
    border-radius: 0.75rem;
    font-weight: 600;
    text-decoration: none;
    font-size: 1rem;
    transition: background-color .25s, color .25s, border-color .25s, box-shadow .25s;
    cursor: pointer;
  }

  .btn-green1 {
    background: #3ecf8e;
    color: #fff;
  }

  .btn-green1:hover {
    background: #33b77a;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
  }

  .btn-outline1 {
    border: 0.125rem solid #ccc;
    background: #fff;
    color: #333;
  }

  .btn-outline1:hover {
    border-color: #0aa2a5;
    color: #0aa2a5;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
  }

  .kit-digital__image1 img {
    width: 100%;
    border-radius: 1rem;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
  }

  .kitdigital-footer1 {
    margin: 2rem 0;
    text-align: center;
  }

  .kitdigital-footer1 .logo-container1 {
    display: flex;
    justify-content: center;
  }

  .kitdigital-footer1 .kitdigital-logos1 {
    max-width: 50rem;
    width: 94%;
    height: auto;
    margin-left: -30px;
  }

  /* ===== MODAL (mejoras leves) ===== */
  .modal1 {
    position: fixed;
    inset: 0;
    background: rgba(7, 13, 16, 0.55);
    -webkit-backdrop-filter: blur(3px);
    backdrop-filter: blur(3px);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    padding: 1.25rem;
  }

  .modal1.show1 {
    display: flex;
  }

  .modal-content1 {
    background: #fff;
    padding: 1.5rem 1.5rem 1.25rem;
    border-radius: 1rem;
    max-width: 34rem;
    width: min(94vw, 34rem);
    box-shadow: 0 12px 32px rgba(0, 0, 0, .25);
    position: relative;
    animation: modalIn1 .22s ease-out both;
  }

  @keyframes modalIn1 {
    from { opacity: 0; transform: translateY(8px) scale(.98); }
    to   { opacity: 1; transform: translateY(0) scale(1); }
  }

  .modal-close1 {
    position: absolute;
    inset: 0.75rem 0.75rem auto auto;
    background: #0f172a08;
    border: 1px solid #e5e7eb;
    width: 2rem;
    height: 2rem;
    border-radius: 0.5rem;
    display: grid;
    place-items: center;
    cursor: pointer;
    transition: background .2s, transform .08s;
  }

  .modal-close1:hover { background: #f3f4f6; }
  .modal-close1:active { transform: scale(.96); }

  /* Header */
  .modal-head1 { margin-bottom: 0.75rem; }

  .modal-pill1 {
    display: inline-block;
    font-size: .72rem;
    letter-spacing: .3px;
    font-weight: 700;
    background: #f0fdfa;
    color: #0aa2a5;
    border: 1px solid #99f6e4;
    padding: .25rem .5rem;
    border-radius: 999px;
    margin-bottom: .5rem;
  }

  .modal-head1 h3 {
    font-size: 1.4rem;
    margin: 0 0 .25rem;
    color: #0f172a;
  }

  .modal-sub1 { margin: 0; color: #475569; font-size: .92rem; }

  /* Form */
  .contact-form1 { display: grid; gap: 0.9rem; }

  .field1 { display: grid; gap: .4rem; }

  .field1 label { font-size: .9rem; color: #111827; font-weight: 600; }

  .hint1 { color: #6b7280; font-size: .78rem; }

  .error1 { display: none; color: #b91c1c; font-size: .78rem; }

  .chk1 { display: flex; gap: .6rem; align-items: flex-start; font-size: .9rem; color: #334155; }

  .contact-form1 input,
  .contact-form1 textarea {
    padding: .7rem .85rem;
    border-radius: .65rem;
    border: 1px solid #d1d5db;
    font-size: 1rem;
    outline: none;
    background: #fff;
    transition: border-color .2s, box-shadow .2s, background .2s;
  }

  .contact-form1 textarea { resize: vertical; min-height: 6rem; }

  .contact-form1 input:focus,
  .contact-form1 textarea:focus {
    border-color: #0aa2a5;
    box-shadow: 0 0 0 .2rem rgba(10, 162, 165, .15);
  }

  .contact-form1 input:invalid[aria-invalid="true"],
  .contact-form1 textarea:invalid[aria-invalid="true"] {
    border-color: #ef4444;
    box-shadow: 0 0 0 .2rem rgba(239, 68, 68, .12);
  }

  .btn-full1 {
    width: 100%;
    justify-content: center;
    display: inline-flex;
    align-items: center;
    gap: .6rem;
  }

  .btn-spinner1 {
    width: 0; height: 0; border-radius: 999px;
    border: 2px solid transparent; border-top-color: #fff;
    animation: spin1 1s linear infinite;
    opacity: 0; transition: opacity .2s, width .2s, height .2s;
  }

  @keyframes spin1 { to { transform: rotate(360deg); } }

  .mini-legal1 { text-align: center; color: #6b7280; font-size: .8rem; margin: .6rem 0 0; }

  /* Peque√±os ajustes responsive */
  @media (max-width: 480px) {
    .modal-content1 { padding: 1.25rem 1rem; }
    .modal-head1 h3 { font-size: 1.25rem; }
  }

  /* Footer de logos dentro del modal */
  .modal-content1 .modal-logos1 {
    margin-top: 1rem; padding-top: .9rem; border-top: 1px solid #eef2f7;
  }

  .modal-content1 .modal-logos1 .logo-container1 {
    display: flex; justify-content: center; align-items: center;
  }

  .modal-content1 .modal-logos1 .kitdigital-logos1 {
    width: 100%; max-width: 26rem; height: auto; opacity: .95; image-rendering: -webkit-optimize-contrast;
  }

  /* En m√≥viles, que no ocupe demasiado alto */
  @media (max-width: 480px) {
    .modal-content1 .modal-logos1 .kitdigital-logos1 { max-width: 20rem; }
  }

  /* Modal m√°s ancho y compacto */
  .modal-content1 {
    padding: 1.25rem 1.25rem 1rem;
    border-radius: 1rem;
    max-width: 48rem;             /* antes 34rem */
    width: min(96vw, 48rem);      /* m√°s ancho */
    max-height: 88vh;             /* limita alto */
    overflow: auto;               /* scroll interno si hace falta */
  }

  /* Form grid 2 columnas en pantallas medianas+ (reduce altura) */
  .contact-form1 { display: grid; gap: .75rem; }

  .field1 { display: grid; gap: .35rem; }

  .field1.full1 { grid-column: 1 / -1; } /* ocupa todo el ancho */

  .chk1.full1,
  .btn-full1.full1,
  .mini-legal1.full1,
  .modal-logos1.full1 { grid-column: 1 / -1; }

  @media (min-width: 640px) {
    .contact-form1 {
      grid-template-columns: 1fr 1fr; /* 2 columnas */
      align-items: start;
    }
  }

  /* Inputs un pel√≠n m√°s compactos */
  .contact-form1 input,
  .contact-form1 textarea { padding: .6rem .75rem; }

  /* T√≠tulo y subt√≠tulo con menos altura total */
  .modal-head1 { margin-bottom: .5rem; }
  .modal-head1 h3 { margin: 0 0 .2rem; }
  .modal-sub1 { font-size: .9rem; }

  /* Footer de logos dentro del modal, compacto */
  .modal-content1 .modal-logos1 { margin-top: .8rem; padding-top: .7rem; border-top: 1px solid #eef2f7; }

  .modal-content1 .modal-logos1 .kitdigital-logos1 { max-width: 24rem; }

  /* En m√≥viles peque√±os seguimos c√≥modos */
  @media (max-width: 480px) {
    .modal-content1 { width: 96vw; }
    .modal-content1 .modal-logos1 .kitdigital-logos1 { max-width: 18rem; }
  }
</style>

<script>
  // ===== JS: abrir/cerrar + mejoras accesibilidad/UX (clases con sufijo 1) =====
  const $modal = document.getElementById("kitFormModal");
  const $open = document.getElementById("openForm");
  const $close = document.getElementById("closeForm");
  const $form = document.getElementById("kitForm");
  const $submit = document.getElementById("submitBtn");

  $open.addEventListener("click", () => {
    $modal.classList.add("show1");
    $modal.setAttribute("aria-hidden", "false");
    setTimeout(() => document.getElementById("f_nombre")?.focus(), 50);
  });

  function closeModal() {
    $modal.classList.remove("show1");
    $modal.setAttribute("aria-hidden", "true");
  }

  $close.addEventListener("click", closeModal);
  $modal.addEventListener("click", (e) => { if (e.target === e.currentTarget) closeModal(); });
  document.addEventListener("keydown", (e) => { if (e.key === "Escape" && $modal.classList.contains("show1")) closeModal(); });

  /* Validaci√≥n suave + spinner */
  $form.addEventListener("submit", (e) => {
    const email = document.getElementById("f_email");
    const tel = document.getElementById("f_tel");
    email.setAttribute("aria-invalid", !email.checkValidity());
    tel.setAttribute("aria-invalid", !tel.checkValidity());
    const emailErr = document.querySelector('[data-for="f_email"]');
    if (emailErr) emailErr.style.display = email.checkValidity() ? "none" : "block";

    if (!$form.checkValidity()) {
      e.preventDefault();
      return;
    }

    // demo UX: spinner
    $submit.disabled = true;
    $submit.querySelector(".btn-text1").textContent = "Enviando‚Ä¶";
    const sp = $submit.querySelector(".btn-spinner1");
    sp.style.width = "1rem"; sp.style.height = "1rem"; sp.style.opacity = "1";
  });
</script>
